<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MyStg2nd: クラス GgafCore::GgafFactory</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MyStg2nd
   &#160;<span id="projectnumber">0.0.3526</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>データ構造</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li><a href="dirs.html"><span>ディレクトリ</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>データ構造</span></a></li>
      <li><a href="classes.html"><span>データ構造索引</span></a></li>
      <li><a href="inherits.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>データフィールド</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classGgafCore_1_1GgafFactory.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public メソッド</a> &#124;
<a href="#pub-static-attribs">Static Public 変数</a> &#124;
<a href="#pri-static-methods">Static Private メソッド</a> &#124;
<a href="#pri-static-attribs">Static Private 変数</a> &#124;
<a href="#friends">フレンド</a>  </div>
  <div class="headertitle">
<div class="title">クラス GgafCore::GgafFactory</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GgafCore::GgafFactory" -->
<p>インスタンス生成工場クラス .  
 <a href="classGgafCore_1_1GgafFactory.html#details">[詳細]</a></p>

<p><code>#include &lt;<a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> GgafCore::GgafFactoryのコラボレーション図</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory__coll__graph.png" border="0" usemap="#GgafCore_1_1GgafFactory_coll__map" alt="Collaboration graph"/></div>
<map name="GgafCore_1_1GgafFactory_coll__map" id="GgafCore_1_1GgafFactory_coll__map">
<area shape="rect" id="node2" href="classGgafCore_1_1GgafGarbageBox.html" title="ゴミ箱 ." alt="" coords="3225,457,3415,487"/><area shape="rect" id="node4" href="classGgafCore_1_1GgafObject.html" title="基底クラス" alt="" coords="301,465,459,495"/><area shape="rect" id="node12" href="classGgafCore_1_1GgafNode.html" title="GgafCore::GgafNode\&lt; GgafScene \&gt;" alt="" coords="1112,581,1352,611"/><area shape="rect" id="node16" href="classGgafCore_1_1GgafNode.html" title="要素同士を環状双方向連結リストのツリー構造を作ることができるテンプレートです。." alt="" coords="724,704,905,733"/><area shape="rect" id="node21" href="classGgafCore_1_1GgafProgress.html" title="進捗管理クラス ." alt="" coords="1147,465,1317,495"/><area shape="rect" id="node24" href="classGgafCore_1_1GgafGod.html" title="神クラス." alt="" coords="3249,287,3391,316"/><area shape="rect" id="node34" href="classGgafCore_1_1GgafException.html" title="本ライブラリ例外" alt="" coords="727,143,903,172"/><area shape="rect" id="node53" href="classGgafCore_1_1GgafNode.html" title="GgafCore::GgafNode\&lt; GgafActor \&gt;" alt="" coords="2831,765,3068,795"/><area shape="rect" id="node70" href="classGgafCore_1_1GgafLinkedListRing.html" title="GgafCore::GgafLinkedListRing\&lt; GgafActor \&gt;" alt="" coords="1083,1052,1381,1081"/><area shape="rect" id="node76" href="classGgafCore_1_1GgafLinkedListRing.html" title="要素（同一型インスタンスへのポインタ）の環状双方向連結リストを構築するテンプレートです。." alt="" coords="693,1015,936,1044"/><area shape="rect" id="node95" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス ." alt="" coords="740,89,889,119"/><area shape="rect" id="node6" href="classGgafCore_1_1GgafDisusedScene.html" title="不要になったシーン ." alt="" coords="2603,461,2805,491"/><area shape="rect" id="node8" href="classGgafCore_1_1GgafScene.html" title="シーンクラス ." alt="" coords="2055,632,2207,661"/><area shape="rect" id="node29" href="classGgafCore_1_1GgafMainScene.html" title="下位シーンクラスへのインターフェイス ." alt="" coords="2397,363,2579,392"/><area shape="rect" id="node49" href="classGgafCore_1_1GgafActor.html" title="アクターの基底クラス ." alt="" coords="2413,981,2563,1011"/><area shape="rect" id="node10" href="classGgafCore_1_1GgafElement.html" title="GgafCore::GgafElement\&lt; GgafScene \&gt;" alt="" coords="1648,517,1907,547"/><area shape="rect" id="node42" href="classGgafCore_1_1GgafElement.html" title="GgafNodeに、様々な状態遷移管理（タスクシステム）を追加。 ." alt="" coords="3629,599,3829,628"/><area shape="rect" id="node51" href="classGgafCore_1_1GgafElement.html" title="GgafCore::GgafElement\&lt; GgafActor \&gt;" alt="" coords="3973,599,4229,628"/><area shape="rect" id="node27" href="classGgafCore_1_1GgafUniverse.html" title="この世クラス ." alt="" coords="2865,352,3033,381"/><area shape="rect" id="node32" href="classGgafCore_1_1GgafCriticalException.html" title="GgafCoreライブラリ専用、ライブラリ業務例外 ." alt="" coords="1405,144,1624,173"/><area shape="rect" id="node37" title="STL class." alt="" coords="336,21,424,51"/><area shape="rect" id="node39" title="STL class." alt="" coords="7,21,188,51"/><area shape="rect" id="node47" href="classGgafCore_1_1GgafDirector.html" title="監督クラス ." alt="" coords="2867,979,3032,1008"/><area shape="rect" id="node84" href="classGgafCore_1_1GgafMainActor.html" title="普通のアクター(演者)." alt="" coords="3640,1097,3819,1127"/><area shape="rect" id="node88" href="classGgafCore_1_1GgafGroupHead.html" title="団長(GgafGroupHead)クラス ." alt="" coords="3228,995,3412,1024"/><area shape="rect" id="node67" href="classGgafCore_1_1GgafFormation.html" title="フォーメーションアクタークラス ." alt="" coords="2860,1032,3039,1061"/><area shape="rect" id="node92" href="classGgafCore_1_1GgafDisusedActor.html" title="不要になったアクター ." alt="" coords="2849,521,3049,551"/><area shape="rect" id="node62" href="classGgafCore_1_1GgafStatus.html" title="ステースクラス." alt="" coords="2052,981,2209,1011"/><area shape="rect" id="node64" href="structGgafCore_1_1GgafStatus_1_1VALUE.html" title="ステータス値を表す ." alt="" coords="1673,981,1881,1011"/><area shape="rect" id="node73" href="classGgafCore_1_1GgafLinkedListRing_1_1Elem.html" title="専用の要素値ラップクラス ." alt="" coords="241,1065,519,1095"/><area shape="rect" id="node80" href="classGgafCore_1_1GgafActorDepository.html" title="アクター保管所（人材バンク）クラス ." alt="" coords="4280,1173,4499,1203"/><area shape="rect" id="node82" href="classGgafCore_1_1GgafDummyActor.html" title="ダミーアクタークラス ." alt="" coords="4003,1133,4200,1163"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">凡例</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public メソッド</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a696625fa4a5f6e3d4b612245655782a3">orderActor</a> (unsigned long prm_id, X *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場にアクター作成の注文を行う（メインスレッドが使用） .  <a href="#a696625fa4a5f6e3d4b612245655782a3"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a63b475bc435024149fe4a4590b0cc778">orderScene</a> (unsigned long prm_id, X *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場にシーン作成の注文を行う（メインスレッドが使用） .  <a href="#a63b475bc435024149fe4a4590b0cc778"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classGgafCore_1_1GgafMainActor.html">GgafMainActor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#af986625baf3be14f2fe29f06d47e220d">obtainActor</a> (unsigned long prm_id, <a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *prm_org)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">注文したアクターを取り出す。（メインスレッドが使用） .  <a href="#af986625baf3be14f2fe29f06d47e220d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classGgafCore_1_1GgafMainScene.html">GgafMainScene</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#acb7c9a85043de08495501847cb26a1f3">obtainScene</a> (unsigned long prm_id, <a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *prm_org)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">注文したシーンを取り出す。（メインスレッドが使用） .  <a href="#acb7c9a85043de08495501847cb26a1f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a52850868a2645fc3dad8d8973f799020">chkProgress</a> (unsigned long prm_id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">注文した商品が出来上がっているか調べる。（メインスレッドが使用） .  <a href="#a52850868a2645fc3dad8d8973f799020"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a874f710e5732a484762f43202589c0c2">clean</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場を掃除する（メインスレッドが使用） .  <a href="#a874f710e5732a484762f43202589c0c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned __stdcall&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a210101ebed60093c3604b76b92683cca">work</a> (void *prm_arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">稼動する。（工場スレッドメインループ）.  <a href="#a210101ebed60093c3604b76b92683cca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a47a57baa70f379ffafda79eef447d18e">beginRest</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場一時休止を指示 （メインスレッドが使用） .  <a href="#a47a57baa70f379ffafda79eef447d18e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ac22ff7952dc6e7121442d0a06bb7fa17">isResting</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場の状態を取得（メインスレッドが使用） .  <a href="#ac22ff7952dc6e7121442d0a06bb7fa17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a6f0700dbeee2bdbda43c51ec91109459">finishRest</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場休止の解除を指示 （メインスレッドが使用） .  <a href="#a6f0700dbeee2bdbda43c51ec91109459"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static X *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a0db38f8c10e2877fe711544401b51a01">createActor</a> (void *p1, void *p2, void *p3)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static X *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a9616a18ec7ea15c2a54a2ff62ff556aa">createActorWithModel</a> (void *p1, void *p2, void *p3)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static X *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ae48b1f5d95cc58399e813f335c2a2e06">createActorWithDp</a> (void *p1, void *p2, void *p3)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static X *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a19de00a1be363cf6e111c79829b9f847">createActorWithModelDp</a> (void *p1, void *p2, void *p3)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class X &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static X *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ae48cd8342ba2d84ed5eb438944217c54">createScene</a> (void *p1, void *p2, void *p3)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classGgafCore_1_1GgafGarbageBox.html">GgafGarbageBox</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#aeb673e1d33ae8688f69fa40232014464">_pGarbageBox</a> = NULL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]ゴミ箱(不要なアクター置き場)  <a href="#aeb673e1d33ae8688f69fa40232014464"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#aff6e1d916bf717a32a79d6327138e317">_cnt_cleaned</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]掃除オブジェクト数  <a href="#aff6e1d916bf717a32a79d6327138e317"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa">_is_working_flg</a> = true</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]活動フラグ(神が操作する)  <a href="#ac7e18bd9d0f31fe4f0048f61c22595aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a4219e8ad50b3cbbb596060922d2adbf6">_have_to_rest_flg</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]休むフラグ  <a href="#a4219e8ad50b3cbbb596060922d2adbf6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9">_is_resting_flg</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]休でいるフラグ  <a href="#ad8a63e19ed64fda62429fc0cb2b63cc9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#adc191cad705b1cbe9dc06c4b20d20f1a">_was_finished_flg</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">[r]完全店終い  <a href="#adc191cad705b1cbe9dc06c4b20d20f1a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a900e8e8aa6507d11317b1b57b042d9ce">order</a> (unsigned long prm_id, <a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">工場に注文を行う .  <a href="#a900e8e8aa6507d11317b1b57b042d9ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a5515238fa034f33552278be56a1a7f08">obtain</a> (unsigned long prm_id, <a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *prm_org)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">注文した商品を取り出す .  <a href="#a5515238fa034f33552278be56a1a7f08"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classGgafCore_1_1GgafOrder.html">GgafOrder</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30">ROOT_ORDER</a> = NULL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">先頭の注文  <a href="#ad77c3934dc4dd884eb64a71f8801ef30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classGgafCore_1_1GgafOrder.html">GgafOrder</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20">CREATING_ORDER</a> = NULL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">現在製造中の注文  <a href="#a0c189cff985ee01b75c1da86593fdc20"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
フレンド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGgafCore_1_1GgafFactory.html#aac6553974828ad36f76d47af017b9ec8">GgafGod</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock"><p>インスタンス生成工場クラス . </p>
<p>メインスレッドから、注文(GgafOrder)を渡されると、別スレッドにそのインスタンスを生成(new)させます。<br/>
 出来上がったインスタンス(商品と呼ぶ)のポインタ達は工場でストックされ、メイン処理から必要に応じて商品を取り出すことが出来ます<br/>
 【補足】<br/>
 なぜこんなややこしい事をするのか。それは、大量インスタンスをある時点で生成しなければいけないような個所で、滑らかに処理をしたいため。<br/>
 ステージのローディングや、昔よくあったのですが、ボス前等で、ゲーム進行が一瞬「ウッ」と止まる(わかるかなぁ)のを無くしたかったたためです。<br/>
 注文を早めにしておくと、スムーズにゲームが進行するはずだと目論む。<br/>
 </p>
<dl class="version"><dt><b>バージョン:</b></dt><dd>1.00 </dd></dl>
<dl class="since"><dt><b>から:</b></dt><dd>2007/12/27 </dd></dl>
<dl class="author"><dt><b>作者:</b></dt><dd>Masatoshi Tsuge </dd></dl>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00017">17</a> 行で定義されています。</p>
</div><hr/><h2>関数</h2>
<a class="anchor" id="a900e8e8aa6507d11317b1b57b042d9ce"></a><!-- doxytag: member="GgafCore::GgafFactory::order" ref="a900e8e8aa6507d11317b1b57b042d9ce" args="(unsigned long prm_id, GgafObject *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GgafFactory::order </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *(*)(void *, void *, void *)&#160;</td>
          <td class="paramname"><em>prm_pFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場に注文を行う . </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID番号 </td></tr>
    <tr><td class="paramname">prm_pFunc</td><td>実際に製造処理を行う関数のポインタ </td></tr>
    <tr><td class="paramname">prm_pArg1</td><td>その引数1 </td></tr>
    <tr><td class="paramname">prm_pArg2</td><td>その引数2 </td></tr>
    <tr><td class="paramname">prm_pArg3</td><td>その引数3 </td></tr>
  </table>
  </dd>
</dl>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00028">28</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafOrder_8h_source.html#l00019">GgafCore::GgafOrder::_id</a>, <a class="el" href="GgafOrder_8h_source.html#l00025">GgafCore::GgafOrder::_is_first_order_flg</a>, <a class="el" href="GgafOrder_8h_source.html#l00027">GgafCore::GgafOrder::_is_last_order_flg</a>, <a class="el" href="GgafOrder_8h_source.html#l00033">GgafCore::GgafOrder::_pArg1</a>, <a class="el" href="GgafOrder_8h_source.html#l00035">GgafCore::GgafOrder::_pArg2</a>, <a class="el" href="GgafOrder_8h_source.html#l00037">GgafCore::GgafOrder::_pArg3</a>, <a class="el" href="GgafOrder_8h_source.html#l00031">GgafCore::GgafOrder::_pFunc</a>, <a class="el" href="GgafOrder_8h_source.html#l00029">GgafCore::GgafOrder::_pObject_Creation</a>, <a class="el" href="GgafOrder_8h_source.html#l00021">GgafCore::GgafOrder::_pOrder_Next</a>, <a class="el" href="GgafOrder_8h_source.html#l00023">GgafCore::GgafOrder::_pOrder_Prev</a>, <a class="el" href="GgafOrder_8h_source.html#l00039">GgafCore::GgafOrder::_progress</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00088">NULL</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00273">TRACE2</a>.</p>

<p>参照元 <a class="el" href="GgafFactory_8h_source.html#l00080">orderActor()</a>, と <a class="el" href="GgafFactory_8h_source.html#l00098">orderScene()</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::order ＜客＞ 別スレッドの工場さん、[&quot;</span> &lt;&lt; prm_id &lt;&lt; <span class="stringliteral">&quot;]を作っといて〜。&quot;</span>);
    <span class="comment">//既に注文していないかチェック</span>
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>;
    <span class="keywordflow">while</span> (pOrder) {
        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a> == prm_id) {
            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;＜警告＞ GgafFactory::order [&quot;</span> &lt;&lt; prm_id &lt;&lt; <span class="stringliteral">&quot;]は、既に注文してるのでスルーします。意図していなければオカシイですよ！&quot;</span>);
            <span class="keywordflow">return</span>;
        }
        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
            <span class="keywordflow">break</span>;
        }
        pOrder = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
    }
    <span class="comment">//既は未だであるようなのでストック</span>
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_New;
    pOrder_New = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>(prm_id);
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a>=<a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a995500e1e37f888cf6b536e06834de06" title="商品製造メソッド">_pFunc</a> = prm_pFunc;
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7a13a3b659beea5cedc2e77afcc7b3fd" title="商品製造メソッドのパラメータ1">_pArg1</a> = prm_pArg1;
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a23b7d704b5b5eee7957b41dabcd31634" title="商品製造メソッドのパラメータ2">_pArg2</a> = prm_pArg2;
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ab7a0692437ce24e610d9b6d150f9f0a0" title="商品製造メソッドのパラメータ3">_pArg3</a> = prm_pArg3;
    pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> = 0;
    <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::order ＜客＞ あぁ、工場は空っきしですね。注文、すぐできるよね？。&quot;</span>);
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> = <span class="keyword">true</span>;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> = <span class="keyword">true</span>;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a> = pOrder_New;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a> = pOrder_New;
        <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> = pOrder_New;
        <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = pOrder_New;
    } <span class="keywordflow">else</span> {
        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::order ＜客＞ 注文たまってますね、次々注文恐れ入ります。&quot;</span>);
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> = <span class="keyword">false</span>;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> = <span class="keyword">true</span>;
        <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_Last;
        pOrder_Last = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a>;
        pOrder_Last-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> = <span class="keyword">false</span>;
        pOrder_Last-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a> = pOrder_New;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a> = pOrder_Last;
        pOrder_New-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a> = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>;
        <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a> = pOrder_New;
    }
}
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> 呼出しグラフ:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory_a900e8e8aa6507d11317b1b57b042d9ce_icgraph.png" border="0" usemap="#classGgafCore_1_1GgafFactory_a900e8e8aa6507d11317b1b57b042d9ce_icgraph" alt=""/></div>
<map name="classGgafCore_1_1GgafFactory_a900e8e8aa6507d11317b1b57b042d9ce_icgraph" id="classGgafCore_1_1GgafFactory_a900e8e8aa6507d11317b1b57b042d9ce_icgraph">
<area shape="rect" id="node3" href="classGgafCore_1_1GgafFactory.html#a696625fa4a5f6e3d4b612245655782a3" title="工場にアクター作成の注文を行う（メインスレッドが使用） ." alt="" coords="261,5,499,35"/><area shape="rect" id="node5" href="classGgafCore_1_1GgafFactory.html#a63b475bc435024149fe4a4590b0cc778" title="工場にシーン作成の注文を行う（メインスレッドが使用） ." alt="" coords="260,59,500,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5515238fa034f33552278be56a1a7f08"></a><!-- doxytag: member="GgafCore::GgafFactory::obtain" ref="a5515238fa034f33552278be56a1a7f08" args="(unsigned long prm_id, GgafObject *prm_org)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * GgafFactory::obtain </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *&#160;</td>
          <td class="paramname"><em>prm_org</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>注文した商品を取り出す . </p>
<p>未製造だった場合、製造が完了するまで待つ。<br/>
 </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID番号 </td></tr>
    <tr><td class="paramname">prm_org</td><td>注文元（デバッグ用） </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>製品のポインタ </dd></dl>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00097">97</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafGod_8h_source.html#l00007">___BeginSynchronized1</a>, <a class="el" href="GgafGod_8h_source.html#l00008">___EndSynchronized1</a>, <a class="el" href="GgafOrder_8h_source.html#l00019">GgafCore::GgafOrder::_id</a>, <a class="el" href="GgafOrder_8h_source.html#l00025">GgafCore::GgafOrder::_is_first_order_flg</a>, <a class="el" href="GgafOrder_8h_source.html#l00027">GgafCore::GgafOrder::_is_last_order_flg</a>, <a class="el" href="GgafObject_8h_source.html#l00018">GgafCore::GgafObject::_obj_class</a>, <a class="el" href="GgafOrder_8h_source.html#l00029">GgafCore::GgafOrder::_pObject_Creation</a>, <a class="el" href="GgafOrder_8h_source.html#l00021">GgafCore::GgafOrder::_pOrder_Next</a>, <a class="el" href="GgafOrder_8h_source.html#l00023">GgafCore::GgafOrder::_pOrder_Prev</a>, <a class="el" href="GgafOrder_8h_source.html#l00039">GgafCore::GgafOrder::_progress</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00281">_TEXT_</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00292">DELETE_IMPOSSIBLE_NULL</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00088">NULL</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00342">Obj_GgafActor</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00337">Obj_GgafScene</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00302">throwGgafCriticalException</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00272">TRACE</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00273">TRACE2</a>.</p>
<div class="fragment"><pre class="fragment">                                                                   {
    <a class="code" href="GgafCommonHeader_8h.html#a638b671f4fa00cd5267c8df6c19c4477">TRACE</a>(<span class="stringliteral">&quot;GgafFactory::obtain &quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;/&quot;</span>);
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder;
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_MyNext;
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_MyPrev;
    DWORD waittime = 0;
    pOrder = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>;
    <span class="keywordtype">void</span>* objectCreation;
    <span class="keywordflow">if</span> (pOrder == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a> &amp; <a class="code" href="GgafCommonHeader_8h.html#a2f46e52e3f1b9b30793318f8a832d14d">Obj_GgafActor</a>) {
            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafActor.html" title="アクターの基底クラス .">GgafActor</a>*)prm_org)-&gt;getName());
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a>  &amp; <a class="code" href="GgafCommonHeader_8h.html#a51b09ee5e816a4c2cafc9c6207583c67">Obj_GgafScene</a>) {
            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafScene.html" title="シーンクラス .">GgafScene</a>*)prm_org)-&gt;getName());
        }
        <a class="code" href="GgafCommonHeader_8h.html#a9dc19656697a84144f067a543d5eeb2d">throwGgafCriticalException</a>(<span class="stringliteral">&quot;GgafFactory::obtain(&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;) Error! 注文はNULLです。orederとobtainの対応が取れていません。呼び元=&quot;</span>&lt;&lt;prm_org);
    }
    <span class="keywordflow">while</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a>) {

        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a> == prm_id) {
            <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::obtain ＜客＞ こんにちは、[&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;]を取りに来ましたよっと。&quot;</span>);
            <span class="keywordflow">while</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a>) {
                <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> != 2) {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::obtain ＜客＞ 別スレッド工場さん、[&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;]の製造まだ〜？、5ミリ秒だけ待ったげよう。pOrder-&gt;_progress=&quot;</span>&lt;&lt;(pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a>));
<span class="preprocessor">#ifdef _DEBUG</span>
<span class="preprocessor"></span>                    <span class="comment">//デバッグ時はタイムアウト無し</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>
                    <span class="keywordflow">if</span> (waittime &gt; 1000*60) { <span class="comment">//約60秒</span>
                        <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a> &amp; <a class="code" href="GgafCommonHeader_8h.html#a2f46e52e3f1b9b30793318f8a832d14d">Obj_GgafActor</a>) {
                            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafActor.html" title="アクターの基底クラス .">GgafActor</a>*)prm_org)-&gt;getName());
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a> &amp; <a class="code" href="GgafCommonHeader_8h.html#a51b09ee5e816a4c2cafc9c6207583c67">Obj_GgafScene</a>) {
                            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafScene.html" title="シーンクラス .">GgafScene</a>*)prm_org)-&gt;getName());
                        }
                        <a class="code" href="GgafCommonHeader_8h.html#a9dc19656697a84144f067a543d5eeb2d">throwGgafCriticalException</a>(<span class="stringliteral">&quot;GgafFactory::obtain Error! [&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;]の製造待ち時間、タイムアウト。\n何らかの理由でメインスレッドが停止している可能性が大きいです。呼び元=&quot;</span>&lt;&lt;prm_org);
                    } <span class="keywordflow">else</span> {
                    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                 <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
                    Sleep(5);
                 <a class="code" href="GgafGod_8h.html#aa724257d32a5d8c3007c318cc2cb91a6">___BeginSynchronized1</a>; <span class="comment">// -----&gt;排他開始</span>
                    waittime += 5;
                    <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> == 1) {
                        <span class="comment">//着手済み</span>
                        <a class="code" href="GgafCommonHeader_8h.html#a2edad686d7d455ec667b85f21b8ee038">_TEXT_</a>(<span class="stringliteral">&quot;!&quot;</span>);
                        <span class="keywordflow">continue</span>; <span class="comment">//待つ</span>
                    } <span class="keywordflow">else</span> {
                        <span class="comment">//未着手？</span>
                        pOrder = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>; <span class="comment">//もう一度最初から探させる。</span>
                        <a class="code" href="GgafCommonHeader_8h.html#a2edad686d7d455ec667b85f21b8ee038">_TEXT_</a>(<span class="stringliteral">&quot;.&quot;</span>);
                        <span class="keywordflow">break</span>;
                    }
                } <span class="keywordflow">else</span> {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::obtain ＜客＞ おぉ、[&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;]は製造済みですね、さすが！。あざーす！&quot;</span>);
                    <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> &amp;&amp; pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
                        objectCreation = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a>;
                        pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
                        <a class="code" href="GgafCommonHeader_8h.html#ae5d747deb8aa2c8d2b082d12f7f49836" title="NULLはありえない delete.">DELETE_IMPOSSIBLE_NULL</a>(pOrder);
                        pOrder = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
                        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::obtain ＜客＞ 製品[&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;]頂きました。あ、もう工場は空ですね。暇になった？ねぇ？&quot;</span>);
                        <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)objectCreation;
                    } <span class="keywordflow">else</span> {
                        pOrder_MyNext = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
                        pOrder_MyPrev = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a>;
                        pOrder_MyPrev-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a> = pOrder_MyNext;
                        pOrder_MyNext-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a> = pOrder_MyPrev;
                        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> == <span class="keyword">false</span> &amp;&amp; pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
                            pOrder_MyPrev-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> = <span class="keyword">true</span>;
<span class="comment">//                            CREATING_ORDER = pOrder_MyPrev;</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> &amp;&amp; pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> == <span class="keyword">false</span>) {
                            pOrder_MyNext-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> = <span class="keyword">true</span>;
                            <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> = pOrder_MyNext;
<span class="comment">//                            CREATING_ORDER = pOrder_MyNext;</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4be532d4cb0aa867cdad04d9827254cc" title="先頭の注文フラグ">_is_first_order_flg</a> == <span class="keyword">false</span> &amp;&amp; pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a> == <span class="keyword">false</span>) {

                            <span class="comment">//CREATING_ORDER = pOrder_MyPrev;</span>
                        }
                        <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> == pOrder) {
                            <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = pOrder_MyPrev;
                        }
                        objectCreation = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a>;
                        pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
                        <a class="code" href="GgafCommonHeader_8h.html#ae5d747deb8aa2c8d2b082d12f7f49836" title="NULLはありえない delete.">DELETE_IMPOSSIBLE_NULL</a>(pOrder);
                        pOrder = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

                        <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)objectCreation;
                    }
                }
            }
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
                <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a> &amp; <a class="code" href="GgafCommonHeader_8h.html#a2f46e52e3f1b9b30793318f8a832d14d">Obj_GgafActor</a>) {
                    <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafActor.html" title="アクターの基底クラス .">GgafActor</a>*)prm_org)-&gt;getName());
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prm_org-&gt;<a class="code" href="classGgafCore_1_1GgafObject.html#a106aef381ad9b07cd2d2223b922c45af" title="[r]インスタンス種類">_obj_class</a> &amp; <a class="code" href="GgafCommonHeader_8h.html#a51b09ee5e816a4c2cafc9c6207583c67">Obj_GgafScene</a>) {
                    <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;エラー追跡情報、呼び元=&quot;</span>&lt;&lt;((<a class="code" href="classGgafCore_1_1GgafScene.html" title="シーンクラス .">GgafScene</a>*)prm_org)-&gt;getName());
                }
                <a class="code" href="GgafCommonHeader_8h.html#a9dc19656697a84144f067a543d5eeb2d">throwGgafCriticalException</a>(<span class="stringliteral">&quot;GgafFactory::obtain Error! ＜工場長＞全部探しましたけど、そんな注文(prm_id=&quot;</span>&lt;&lt;prm_id&lt;&lt;<span class="stringliteral">&quot;)は、ありません。\n oreder() と obtain() の対応が取れていません。&quot;</span>&lt;&lt;
                                           <span class="stringliteral">&quot;oreder()漏れ、或いは同じ obtain() を２回以上してませんか？。呼び元=&quot;</span>&lt;&lt;prm_org);
            } <span class="keywordflow">else</span> {
                pOrder = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
            }
        }
    }
    <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafGod.html#aa5068e2dada22e826593cf1515bcae3d" title="[r]生成工場(別スレッド)のエラー状態。NULL＝正常稼働中／not NULL＝異常発生">GgafGod::_pException_Factory</a>) {
        <span class="keywordflow">throw</span> *(<a class="code" href="classGgafCore_1_1GgafGod.html#aa5068e2dada22e826593cf1515bcae3d" title="[r]生成工場(別スレッド)のエラー状態。NULL＝正常稼働中／not NULL＝異常発生">GgafGod::_pException_Factory</a>);
    }
    <span class="keywordflow">return</span> <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a696625fa4a5f6e3d4b612245655782a3"></a><!-- doxytag: member="GgafCore::GgafFactory::orderActor" ref="a696625fa4a5f6e3d4b612245655782a3" args="(unsigned long prm_id, X *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void GgafCore::GgafFactory::orderActor </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">X *(*)(void *, void *, void *)&#160;</td>
          <td class="paramname"><em>prm_pFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場にアクター作成の注文を行う（メインスレッドが使用） . </p>
<p>メイン処理が呼び出します。<br/>
 </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID番号 </td></tr>
    <tr><td class="paramname">prm_pFunc</td><td>実際に製造処理を行う関数のポインタ </td></tr>
    <tr><td class="paramname">prm_pArg1</td><td>その引数1 </td></tr>
    <tr><td class="paramname">prm_pArg2</td><td>その引数2 </td></tr>
    <tr><td class="paramname">prm_pArg3</td><td>その引数3 </td></tr>
  </table>
  </dd>
</dl>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00080">80</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafFactory_8cpp_source.html#l00028">order()</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
        <a class="code" href="classGgafCore_1_1GgafFactory.html#a900e8e8aa6507d11317b1b57b042d9ce" title="工場に注文を行う .">order</a>(prm_id, (GgafObject* (*)(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*))prm_pFunc, prm_pArg1, prm_pArg2, prm_pArg3);
    }
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> 関数の呼び出しグラフ:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory_a696625fa4a5f6e3d4b612245655782a3_cgraph.png" border="0" usemap="#classGgafCore_1_1GgafFactory_a696625fa4a5f6e3d4b612245655782a3_cgraph" alt=""/></div>
<map name="classGgafCore_1_1GgafFactory_a696625fa4a5f6e3d4b612245655782a3_cgraph" id="classGgafCore_1_1GgafFactory_a696625fa4a5f6e3d4b612245655782a3_cgraph">
<area shape="rect" id="node3" href="classGgafCore_1_1GgafFactory.html#a900e8e8aa6507d11317b1b57b042d9ce" title="工場に注文を行う ." alt="" coords="295,5,497,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a63b475bc435024149fe4a4590b0cc778"></a><!-- doxytag: member="GgafCore::GgafFactory::orderScene" ref="a63b475bc435024149fe4a4590b0cc778" args="(unsigned long prm_id, X *(*prm_pFunc)(void *, void *, void *), void *prm_pArg1, void *prm_pArg2, void *prm_pArg3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void GgafCore::GgafFactory::orderScene </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">X *(*)(void *, void *, void *)&#160;</td>
          <td class="paramname"><em>prm_pFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_pArg3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場にシーン作成の注文を行う（メインスレッドが使用） . </p>
<p>メイン処理が呼び出します。<br/>
 </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID番号 </td></tr>
    <tr><td class="paramname">prm_pFunc</td><td>実際に製造処理を行う関数のポインタ </td></tr>
    <tr><td class="paramname">prm_pArg1</td><td>その引数1 </td></tr>
    <tr><td class="paramname">prm_pArg2</td><td>その引数2 </td></tr>
    <tr><td class="paramname">prm_pArg3</td><td>その引数3 </td></tr>
  </table>
  </dd>
</dl>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00098">98</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafFactory_8cpp_source.html#l00028">order()</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
        <a class="code" href="classGgafCore_1_1GgafFactory.html#a900e8e8aa6507d11317b1b57b042d9ce" title="工場に注文を行う .">order</a>(prm_id, (GgafObject* (*)(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*))prm_pFunc, prm_pArg1, prm_pArg2, prm_pArg3);
    }
</pre></div>
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> 関数の呼び出しグラフ:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory_a63b475bc435024149fe4a4590b0cc778_cgraph.png" border="0" usemap="#classGgafCore_1_1GgafFactory_a63b475bc435024149fe4a4590b0cc778_cgraph" alt=""/></div>
<map name="classGgafCore_1_1GgafFactory_a63b475bc435024149fe4a4590b0cc778_cgraph" id="classGgafCore_1_1GgafFactory_a63b475bc435024149fe4a4590b0cc778_cgraph">
<area shape="rect" id="node3" href="classGgafCore_1_1GgafFactory.html#a900e8e8aa6507d11317b1b57b042d9ce" title="工場に注文を行う ." alt="" coords="297,5,500,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af986625baf3be14f2fe29f06d47e220d"></a><!-- doxytag: member="GgafCore::GgafFactory::obtainActor" ref="af986625baf3be14f2fe29f06d47e220d" args="(unsigned long prm_id, GgafObject *prm_org)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGgafCore_1_1GgafMainActor.html">GgafMainActor</a> * GgafFactory::obtainActor </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *&#160;</td>
          <td class="paramname"><em>prm_org</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>注文したアクターを取り出す。（メインスレッドが使用） . </p>
<p>メイン処理が呼び出します。<br/>
 未製造だった場合、製造が完了するまで待つ。<br/>
 </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID </td></tr>
    <tr><td class="paramname">prm_org</td><td>注文元（デバッグ用） </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>生成されたアクターのポインタ </dd></dl>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00018">18</a> 行で定義されています。</p>
<div class="fragment"><pre class="fragment">                                                                                 {
    <span class="keywordflow">return</span> (<a class="code" href="classGgafCore_1_1GgafMainActor.html" title="普通のアクター(演者).">GgafMainActor</a>*)<a class="code" href="classGgafCore_1_1GgafFactory.html#a5515238fa034f33552278be56a1a7f08" title="注文した商品を取り出す .">obtain</a>(prm_id, prm_org);
}
</pre></div>
</div>
</div>
<a class="anchor" id="acb7c9a85043de08495501847cb26a1f3"></a><!-- doxytag: member="GgafCore::GgafFactory::obtainScene" ref="acb7c9a85043de08495501847cb26a1f3" args="(unsigned long prm_id, GgafObject *prm_org)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGgafCore_1_1GgafMainScene.html">GgafMainScene</a> * GgafFactory::obtainScene </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGgafCore_1_1GgafObject.html">GgafObject</a> *&#160;</td>
          <td class="paramname"><em>prm_org</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>注文したシーンを取り出す。（メインスレッドが使用） . </p>
<p>メイン処理が呼び出します。<br/>
 未製造だった場合、製造が完了するまで待つ。<br/>
 </p>
<dl><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prm_id</td><td>注文識別ID </td></tr>
    <tr><td class="paramname">prm_org</td><td>注文元（デバッグ用） </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>生成されたシーンのポインタ </dd></dl>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00022">22</a> 行で定義されています。</p>
<div class="fragment"><pre class="fragment">                                                                                 {
    <span class="keywordflow">return</span> (<a class="code" href="classGgafCore_1_1GgafMainScene.html" title="下位シーンクラスへのインターフェイス .">GgafMainScene</a>*)<a class="code" href="classGgafCore_1_1GgafFactory.html#a5515238fa034f33552278be56a1a7f08" title="注文した商品を取り出す .">obtain</a>(prm_id, prm_org);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a52850868a2645fc3dad8d8973f799020"></a><!-- doxytag: member="GgafCore::GgafFactory::chkProgress" ref="a52850868a2645fc3dad8d8973f799020" args="(unsigned long prm_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GgafFactory::chkProgress </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>prm_id</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>注文した商品が出来上がっているか調べる。（メインスレッドが使用） . </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>進捗具合(-2:工場自体が動いてない/-1:注文すらしていない/0:注文済みで工場未着手/1:製造中/2:製造済み） </dd></dl>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00077">77</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafOrder_8h_source.html#l00019">GgafCore::GgafOrder::_id</a>, <a class="el" href="GgafOrder_8h_source.html#l00027">GgafCore::GgafOrder::_is_last_order_flg</a>, <a class="el" href="GgafOrder_8h_source.html#l00021">GgafCore::GgafOrder::_pOrder_Next</a>, <a class="el" href="GgafOrder_8h_source.html#l00039">GgafCore::GgafOrder::_progress</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00088">NULL</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder;
    pOrder = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>;
    <span class="keywordflow">if</span> (pOrder == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">while</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a>) {
        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a> == prm_id) {
            <span class="keywordflow">return</span> pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a>;
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
                <span class="keywordflow">return</span> -1;
            } <span class="keywordflow">else</span> {
                pOrder = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
            }
        }
    }
    <span class="keywordflow">return</span> -2;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a874f710e5732a484762f43202589c0c2"></a><!-- doxytag: member="GgafCore::GgafFactory::clean" ref="a874f710e5732a484762f43202589c0c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GgafFactory::clean </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場を掃除する（メインスレッドが使用） . </p>
<p>メイン処理の神が呼び出します。<br/>
 ROOT_ORDER が指している製品の連結リストを全て解放する<br/>
 注意：必ず以下のようにクリティカルセクションで囲んで呼び出してください！。<br/>
 ＜コード例＞ <br/>
 ___BeginSynchronized1; // -----&gt;排他開始<br/>
 <a class="el" href="classGgafCore_1_1GgafFactory.html#a874f710e5732a484762f43202589c0c2" title="工場を掃除する（メインスレッドが使用） .">GgafFactory::clean()</a>;<br/>
 ___EndSynchronized1; // &lt;----- 排他終了<br/>
 </p>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00209">209</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafOrder_8h_source.html#l00019">GgafCore::GgafOrder::_id</a>, <a class="el" href="GgafOrder_8h_source.html#l00027">GgafCore::GgafOrder::_is_last_order_flg</a>, <a class="el" href="GgafOrder_8h_source.html#l00021">GgafCore::GgafOrder::_pOrder_Next</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00292">DELETE_IMPOSSIBLE_NULL</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00088">NULL</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00273">TRACE2</a>.</p>
<div class="fragment"><pre class="fragment">                        {
    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ 工場を掃除開始&quot;</span>);
    <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder = <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>;
    <span class="keywordflow">if</span> (pOrder == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ しかし工場に何も無い！！&quot;</span>);
        <span class="keywordflow">return</span>;
    }
    <span class="keywordflow">while</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a> || <a class="code" href="classGgafCore_1_1GgafFactory.html#adc191cad705b1cbe9dc06c4b20d20f1a" title="[r]完全店終い">_was_finished_flg</a> == <span class="keyword">false</span>) {
        Sleep(10);
        <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ 工場がまだ動いています・・・&quot;</span>);
    }

    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
        <span class="keywordflow">if</span> (pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ad65d2469d4d7622c686e5d6683066198" title="最後の注文フラグ">_is_last_order_flg</a>) {
            <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ 製品削除[&quot;</span>&lt;&lt;pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;]、最後のストック&quot;</span>);
            <a class="code" href="GgafCommonHeader_8h.html#ae5d747deb8aa2c8d2b082d12f7f49836" title="NULLはありえない delete.">DELETE_IMPOSSIBLE_NULL</a>(pOrder);
            pOrder = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
            <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
            <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
            <span class="keywordflow">break</span>;
        } <span class="keywordflow">else</span> {
            <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ 製品削除[&quot;</span>&lt;&lt;pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;]&quot;</span>);
            <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_MyNext = pOrder-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
            <a class="code" href="GgafCommonHeader_8h.html#ae5d747deb8aa2c8d2b082d12f7f49836" title="NULLはありえない delete.">DELETE_IMPOSSIBLE_NULL</a>(pOrder);
            pOrder = pOrder_MyNext;
        }
    }
    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::clean ＜神＞ 工場を掃除完了&quot;</span>);
    <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a210101ebed60093c3604b76b92683cca"></a><!-- doxytag: member="GgafCore::GgafFactory::work" ref="a210101ebed60093c3604b76b92683cca" args="(void *prm_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned __stdcall GgafFactory::work </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prm_arg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>稼動する。（工場スレッドメインループ）. </p>
<p>神（GgafGod）が初期設定時に別スレッドで一度実行され、メソッド内部で無限ループしてます。<br/>
 注文があれば作成し、ストックします。<br/>
 神が死ぬまで（アプリ終了まで）永遠に稼動しっ放しである。<br/>
 </p>

<p> <a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a> の <a class="el" href="GgafFactory_8cpp_source.html#l00240">240</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafGod_8h_source.html#l00007">___BeginSynchronized1</a>, <a class="el" href="GgafGod_8h_source.html#l00008">___EndSynchronized1</a>, <a class="el" href="GgafOrder_8h_source.html#l00033">GgafCore::GgafOrder::_pArg1</a>, <a class="el" href="GgafOrder_8h_source.html#l00029">GgafCore::GgafOrder::_pObject_Creation</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>, <a class="el" href="GgafProperties_8h_source.html#l00008">CFG_PROPERTY</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00292">DELETE_IMPOSSIBLE_NULL</a>, <a class="el" href="GgafException_8cpp_source.html#l00014">GgafCore::GgafException::getMsg()</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>, <a class="el" href="GgafCommonHeader_8h_source.html#l00088">NULL</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00273">TRACE2</a>.</p>

<p>参照元 <a class="el" href="GgafGod_8cpp_source.html#l00020">GgafCore::GgafGod::GgafGod()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
    <span class="comment">//_CrtSetBreakAlloc(95299);</span>

    <span class="keywordflow">try</span> {
        <a class="code" href="classGgafCore_1_1GgafObject.html" title="基底クラス">GgafObject</a>* (*func)(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*) = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
        <a class="code" href="classGgafCore_1_1GgafObject.html" title="基底クラス">GgafObject</a>* pObject = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
        <a class="code" href="classGgafCore_1_1GgafOrder.html" title="商品（何かのインスタンス）の注文クラス .">GgafOrder</a>* pOrder_InManufacturing_save = <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
        Sleep(1000); <span class="comment">//god のインスタンスが完成するまでほんのちょっと待つ必要があるかもしれない</span>
        <span class="keywordflow">while</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a>) {
            <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#a4219e8ad50b3cbbb596060922d2adbf6" title="[r]休むフラグ">_have_to_rest_flg</a>) {
                <a class="code" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9" title="[r]休でいるフラグ">_is_resting_flg</a> = <span class="keyword">true</span>;
                Sleep(100);
                <span class="keywordflow">continue</span>;
            } <span class="keywordflow">else</span> {
                <a class="code" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9" title="[r]休でいるフラグ">_is_resting_flg</a> = <span class="keyword">false</span>;
            }

         <a class="code" href="GgafGod_8h.html#aa724257d32a5d8c3007c318cc2cb91a6">___BeginSynchronized1</a>; <span class="comment">// -----&gt;排他開始</span>
            <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>) {
                <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> == 0) { <span class="comment">//未着手ならまず作る</span>
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ よし、注文[&quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;]は未着手(_progress == &quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a>&lt;&lt;<span class="stringliteral">&quot;)だな。ゆえに今から作ります！&quot;</span>);
                    <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> = 1; <span class="comment">//ステータスを製造中へ</span>
                    func = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a995500e1e37f888cf6b536e06834de06" title="商品製造メソッド">_pFunc</a>;
                    pOrder_InManufacturing_save = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>; <span class="comment">//ポインタ一時退避</span>
                    <span class="keywordtype">void</span>* arg1 = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7a13a3b659beea5cedc2e77afcc7b3fd" title="商品製造メソッドのパラメータ1">_pArg1</a>;
                    <span class="keywordtype">void</span>* arg2 = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a23b7d704b5b5eee7957b41dabcd31634" title="商品製造メソッドのパラメータ2">_pArg2</a>;
                    <span class="keywordtype">void</span>* arg3 = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#ab7a0692437ce24e610d9b6d150f9f0a0" title="商品製造メソッドのパラメータ3">_pArg3</a>;
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 製造開始！[&quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;] (σ ｀・ω・´)σ &quot;</span>);
                    Sleep(2);
                 <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
<span class="comment">//#ifdef MY_DEBUG</span>
<span class="comment">//try {</span>
<span class="comment">//#endif</span>
                    pObject = (*func)(arg1, arg2, arg3); <span class="comment">//製品の製造！</span>
<span class="comment">//#ifdef MY_DEBUG</span>
<span class="comment">//} catch (GgafCriticalException&amp; e) {</span>
<span class="comment">//    _TRACE_(&quot;＜工場例外＞ 製造中エラー；&quot;&lt;&lt;e.getMsg());</span>
<span class="comment">//    string message = &quot;\n・&quot;+e.getMsg()+&quot;  \n\nお心あたりが無いメッセージの場合、当方のバグの可能性があります。\n誠に申し訳ございません。\n&quot;;</span>
<span class="comment">//    string message_dialog = message + &quot;(※「Shift + Ctrl + C」でメッセージはコピーできます。)&quot;;</span>
<span class="comment">//    MessageBox(NULL, message_dialog.c_str(),&quot;下記のエラーが発生してしまいました&quot;, MB_OK|MB_ICONSTOP | MB_SETFOREGROUND);</span>
<span class="comment">//    _is_working_flg = false;</span>
<span class="comment">//    _was_finished_flg = true;</span>
<span class="comment">//    GgafGod::_pException_Factory = NEW GgafCriticalException(e.getMsg());</span>
<span class="comment">//    return 0;</span>
<span class="comment">//}</span>
<span class="comment">//#endif</span>

                 <a class="code" href="GgafGod_8h.html#aa724257d32a5d8c3007c318cc2cb91a6">___BeginSynchronized1</a>; <span class="comment">// -----&gt;排他開始</span>
                    Sleep(2);
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 製造完了！品番[&quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;] (^_^)v&quot;</span>);
                    <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ ガーン！。せっかく作ったのにキャンセルっすか・・・。破棄します。pObjectをdelete!&quot;</span>);
                        <a class="code" href="GgafCommonHeader_8h.html#ae5d747deb8aa2c8d2b082d12f7f49836" title="NULLはありえない delete.">DELETE_IMPOSSIBLE_NULL</a>(pObject);
                     <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
                        <span class="keywordflow">continue</span>;
                    } <span class="keywordflow">else</span> {
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = pOrder_InManufacturing_save; <span class="comment">//ポインタ復帰</span>
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#afaf94ded6cbc3ac547701b9822e5a9b0" title="商品へのポインタ">_pObject_Creation</a> = pObject; <span class="comment">//製品登録</span>
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> = 2; <span class="comment">//ステータスを製造済みへ</span>
                        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 製造した注文の品[&quot;</span>&lt;&lt;(<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>)&lt;&lt;<span class="stringliteral">&quot;]を、棚に置いときます。&quot;</span>);
                    }
                } <span class="keywordflow">else</span> {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 注文[&quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;]は既に棚に置いてある(_progress == &quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a>&lt;&lt;<span class="stringliteral">&quot;)。ゆえに飛ばす&quot;</span>);
                }
            }
            <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> == <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                <span class="comment">//無条件待機</span>
                <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 工場には何〜んもありません。さぁなんでも注文来い来い！！・・・ないのん？。（待機）&quot;</span>);
             <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
                <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafGod.html#a5bb9835add9ce8c6759a3adfb2b5a86d" title="[r]自身">GgafGod::_pGod</a>-&gt;_fps &gt; <a class="code" href="GgafProperties_8h.html#ace362a365851c585f69b61cdb0c08b0d">CFG_PROPERTY</a>(FPS_TO_CLEAN_GARBAGE_BOX)) {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ FPSは高いよなぁ、その間を利用してゴミ箱掃除でもやっときます。1&quot;</span>);
                    <a class="code" href="classGgafCore_1_1GgafFactory.html#aeb673e1d33ae8688f69fa40232014464" title="[r]ゴミ箱(不要なアクター置き場)">_pGarbageBox</a>-&gt;<a class="code" href="classGgafCore_1_1GgafGarbageBox.html#a0c5f9e967240b89be5a9393d3b467f63" title="ゴミ箱に溜まっているオブジェクトをdeleteする .">clean</a>(5); <span class="comment">//暇なので、ゴミ箱掃除</span>
                    <a class="code" href="classGgafCore_1_1GgafFactory.html#aff6e1d916bf717a32a79d6327138e317" title="[r]掃除オブジェクト数">_cnt_cleaned</a> = 0;
                }
            } <span class="keywordflow">else</span> {
                <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a> != <a class="code" href="GgafCommonHeader_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7eddca11419ab3bd13f911f0a0962313" title="進捗具合（0:未着手/1:製造中/2:製造済み）">_progress</a> == 0) {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ ・・・未製造の注文がある気配。[&quot;</span>&lt;&lt;<a class="code" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30" title="先頭の注文">ROOT_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7aaca6f5b3dcf87079e50c494ec07e39" title="一つ前の注文">_pOrder_Prev</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a7462ba711914891f6503914cebd8819c" title="注文識別ID">_id</a>&lt;&lt;<span class="stringliteral">&quot;]なのか？。&quot;</span>);
                    <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a> = <a class="code" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20" title="現在製造中の注文">CREATING_ORDER</a>-&gt;<a class="code" href="classGgafCore_1_1GgafOrder.html#a4537d040ea5ca8757d417ca319c5252e" title="一つ次の注文">_pOrder_Next</a>;
                 <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
                    <span class="keywordflow">continue</span>;
                } <span class="keywordflow">else</span> {
                    <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ さて、未製造注文は無し。あ〜棚に製造済のがたまってるす、早く取に来やがれ！。（待機）&quot;</span>);
                 <a class="code" href="GgafGod_8h.html#a61ae593e91db2b596e9aa16e8fedd0a1">___EndSynchronized1</a>; <span class="comment">// &lt;----- 排他終了</span>
                    <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafGod.html#a5bb9835add9ce8c6759a3adfb2b5a86d" title="[r]自身">GgafGod::_pGod</a>-&gt;_fps &gt; <a class="code" href="GgafProperties_8h.html#ace362a365851c585f69b61cdb0c08b0d">CFG_PROPERTY</a>(FPS_TO_CLEAN_GARBAGE_BOX)) {
                        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ FPSは高いなぁ、その間を利用してゴミ箱掃除でもやっときます。2&quot;</span>);
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#aeb673e1d33ae8688f69fa40232014464" title="[r]ゴミ箱(不要なアクター置き場)">_pGarbageBox</a>-&gt;<a class="code" href="classGgafCore_1_1GgafGarbageBox.html#a0c5f9e967240b89be5a9393d3b467f63" title="ゴミ箱に溜まっているオブジェクトをdeleteする .">clean</a>(10); <span class="comment">//暇なので、ゴミ箱掃除</span>
                        <a class="code" href="classGgafCore_1_1GgafFactory.html#aff6e1d916bf717a32a79d6327138e317" title="[r]掃除オブジェクト数">_cnt_cleaned</a> = 0;
                    }
                }
            }
            Sleep(10);
        }
        <a class="code" href="GgafCommonHeader_8h.html#a788385421c36b18be911a24756b554db">TRACE2</a>(<span class="stringliteral">&quot;GgafFactory::work ＜工場長＞ 工場はこれにて店じまいです。さようなら、また会いましょう。&quot;</span>);
        <a class="code" href="classGgafCore_1_1GgafFactory.html#adc191cad705b1cbe9dc06c4b20d20f1a" title="[r]完全店終い">_was_finished_flg</a> = <span class="keyword">true</span>;
    } <span class="keywordflow">catch</span> (<a class="code" href="classGgafCore_1_1GgafCriticalException.html" title="GgafCoreライブラリ専用、ライブラリ業務例外 .">GgafCriticalException</a>&amp; e) {
        <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;＜工場例外＞ 私としたことがすみません；&quot;</span>&lt;&lt;e.<a class="code" href="classGgafCore_1_1GgafException.html#ad275aaa72105f0c7193716412a38aca0">getMsg</a>());
        <a class="code" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa" title="[r]活動フラグ(神が操作する)">_is_working_flg</a> = <span class="keyword">false</span>;
        <a class="code" href="classGgafCore_1_1GgafFactory.html#adc191cad705b1cbe9dc06c4b20d20f1a" title="[r]完全店終い">_was_finished_flg</a> = <span class="keyword">true</span>;
        <a class="code" href="classGgafCore_1_1GgafGod.html#aa5068e2dada22e826593cf1515bcae3d" title="[r]生成工場(別スレッド)のエラー状態。NULL＝正常稼働中／not NULL＝異常発生">GgafGod::_pException_Factory</a> = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> <a class="code" href="classGgafCore_1_1GgafCriticalException.html" title="GgafCoreライブラリ専用、ライブラリ業務例外 .">GgafCriticalException</a>(e.<a class="code" href="classGgafCore_1_1GgafException.html#ad275aaa72105f0c7193716412a38aca0">getMsg</a>());
        <span class="keywordflow">return</span> 1;
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> 関数の呼び出しグラフ:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_cgraph.png" border="0" usemap="#classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_cgraph" alt=""/></div>
<map name="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_cgraph" id="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_cgraph">
<area shape="rect" id="node3" href="classGgafCore_1_1GgafException.html#ad275aaa72105f0c7193716412a38aca0" title="GgafCore::GgafException::getMsg" alt="" coords="257,5,487,35"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> 呼出しグラフ:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_icgraph.png" border="0" usemap="#classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_icgraph" alt=""/></div>
<map name="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_icgraph" id="classGgafCore_1_1GgafFactory_a210101ebed60093c3604b76b92683cca_icgraph">
<area shape="rect" id="node3" href="classGgafCore_1_1GgafGod.html#a197da34b721f2fb1c0881b46b1f4869a" title="コンストラクタ ." alt="" coords="256,5,459,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47a57baa70f379ffafda79eef447d18e"></a><!-- doxytag: member="GgafCore::GgafFactory::beginRest" ref="a47a57baa70f379ffafda79eef447d18e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void GgafCore::GgafFactory::beginRest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場一時休止を指示 （メインスレッドが使用） . </p>
<p>しかし呼び出しても直ぐに休止状態になるとは限りません。<br/>
 <a class="el" href="classGgafCore_1_1GgafFactory.html#ac22ff7952dc6e7121442d0a06bb7fa17" title="工場の状態を取得（メインスレッドが使用） .">isResting()</a> で完全休止するまで調べる続ける必要があります。<br/>
 </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00157">157</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafFactory_8h_source.html#l00064">_have_to_rest_flg</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>.</p>
<div class="fragment"><pre class="fragment">                            {
        <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;GgafFactory::beginRest() ＜神＞工場、休憩しなさい&quot;</span>);
        <a class="code" href="classGgafCore_1_1GgafFactory.html#a4219e8ad50b3cbbb596060922d2adbf6" title="[r]休むフラグ">_have_to_rest_flg</a> = <span class="keyword">true</span>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ac22ff7952dc6e7121442d0a06bb7fa17"></a><!-- doxytag: member="GgafCore::GgafFactory::isResting" ref="ac22ff7952dc6e7121442d0a06bb7fa17" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool GgafCore::GgafFactory::isResting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場の状態を取得（メインスレッドが使用） . </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>true=休止状態/false=稼動状態 </dd></dl>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00166">166</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafFactory_8h_source.html#l00066">_is_resting_flg</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>.</p>
<div class="fragment"><pre class="fragment">                            {
        <span class="keywordflow">if</span> (<a class="code" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9" title="[r]休でいるフラグ">_is_resting_flg</a>) {
            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;GgafFactory::isResting() 工場休止状態&quot;</span>);
        } <span class="keywordflow">else</span> {
            <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;GgafFactory::isResting() 工場稼働状態&quot;</span>);
        }
        <span class="keywordflow">return</span> <a class="code" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9" title="[r]休でいるフラグ">_is_resting_flg</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6f0700dbeee2bdbda43c51ec91109459"></a><!-- doxytag: member="GgafCore::GgafFactory::finishRest" ref="a6f0700dbeee2bdbda43c51ec91109459" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void GgafCore::GgafFactory::finishRest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>工場休止の解除を指示 （メインスレッドが使用） . </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00178">178</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafFactory_8h_source.html#l00064">_have_to_rest_flg</a>, と <a class="el" href="GgafCommonHeader_8h_source.html#l00279">_TRACE_</a>.</p>
<div class="fragment"><pre class="fragment">                             {
        <a class="code" href="GgafCommonHeader_8h.html#a22f26e5307f94be30bda84b96fca7b8b">_TRACE_</a>(<span class="stringliteral">&quot;GgafFactory::beginRest() ＜神＞工場、休憩はおしまい。さあ動け！&quot;</span>);
        <a class="code" href="classGgafCore_1_1GgafFactory.html#a4219e8ad50b3cbbb596060922d2adbf6" title="[r]休むフラグ">_have_to_rest_flg</a> = <span class="keyword">false</span>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a0db38f8c10e2877fe711544401b51a01"></a><!-- doxytag: member="GgafCore::GgafFactory::createActor" ref="a0db38f8c10e2877fe711544401b51a01" args="(void *p1, void *p2, void *p3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static X* GgafCore::GgafFactory::createActor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00185">185</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
        <span class="comment">//p1 : 名称</span>
        X* p = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> X((<span class="keywordtype">char</span>*)p1);
        <span class="keywordflow">return</span> p;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9616a18ec7ea15c2a54a2ff62ff556aa"></a><!-- doxytag: member="GgafCore::GgafFactory::createActorWithModel" ref="a9616a18ec7ea15c2a54a2ff62ff556aa" args="(void *p1, void *p2, void *p3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static X* GgafCore::GgafFactory::createActorWithModel </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00192">192</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
        <span class="comment">//p1 : 識別名称</span>
        <span class="comment">//p2 : モデル識別文字列</span>
        X* p = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> X((<span class="keywordtype">char</span>*)p1, (<span class="keywordtype">char</span>*)p2);
        <span class="keywordflow">return</span> p;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae48b1f5d95cc58399e813f335c2a2e06"></a><!-- doxytag: member="GgafCore::GgafFactory::createActorWithDp" ref="ae48b1f5d95cc58399e813f335c2a2e06" args="(void *p1, void *p2, void *p3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static X* GgafCore::GgafFactory::createActorWithDp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00200">200</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
        <span class="comment">//p1 : 識別名称</span>
        <span class="comment">//p2 : アクター発送者</span>
        X* p = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> X((<span class="keywordtype">char</span>*)p1, (<a class="code" href="classGgafCore_1_1GgafActorDepository.html" title="アクター保管所（人材バンク）クラス .">GgafCore::GgafActorDepository</a>*)p2);
        <span class="keywordflow">return</span> p;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a19de00a1be363cf6e111c79829b9f847"></a><!-- doxytag: member="GgafCore::GgafFactory::createActorWithModelDp" ref="a19de00a1be363cf6e111c79829b9f847" args="(void *p1, void *p2, void *p3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static X* GgafCore::GgafFactory::createActorWithModelDp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00208">208</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>.</p>
<div class="fragment"><pre class="fragment">                                                                   {
        <span class="comment">//p1 : 識別名称</span>
        <span class="comment">//p2 : モデル識別文字列</span>
        <span class="comment">//p3 : アクター発送者</span>
        X* p = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> X((<span class="keywordtype">char</span>*)p1, (<span class="keywordtype">char</span>*)p2, (<a class="code" href="classGgafCore_1_1GgafActorDepository.html" title="アクター保管所（人材バンク）クラス .">GgafCore::GgafActorDepository</a>*)p3);
        <span class="keywordflow">return</span> p;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae48cd8342ba2d84ed5eb438944217c54"></a><!-- doxytag: member="GgafCore::GgafFactory::createScene" ref="ae48cd8342ba2d84ed5eb438944217c54" args="(void *p1, void *p2, void *p3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class X &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static X* GgafCore::GgafFactory::createScene </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00217">217</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="GgafCommonHeader_8h_source.html#l00269">NEW</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
        <span class="comment">//Scene生成で一番多い形の引数。</span>
        <span class="comment">//p1 : 識別名称</span>
        X* p = <a class="code" href="GgafCommonHeader_8h.html#ab6bca16ed021b1e211fde8669758f199">NEW</a> X((<span class="keywordtype">char</span>*)p1);
        <span class="keywordflow">return</span> p;
    }
</pre></div>
</div>
</div>
<hr/><h2>フレンドと関連する関数</h2>
<a class="anchor" id="aac6553974828ad36f76d47af017b9ec8"></a><!-- doxytag: member="GgafCore::GgafFactory::GgafGod" ref="aac6553974828ad36f76d47af017b9ec8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classGgafCore_1_1GgafGod.html">GgafGod</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00018">18</a> 行で定義されています。</p>

</div>
</div>
<hr/><h2>構造体</h2>
<a class="anchor" id="ad77c3934dc4dd884eb64a71f8801ef30"></a><!-- doxytag: member="GgafCore::GgafFactory::ROOT_ORDER" ref="ad77c3934dc4dd884eb64a71f8801ef30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGgafCore_1_1GgafOrder.html">GgafOrder</a> * <a class="el" href="classGgafCore_1_1GgafFactory.html#ad77c3934dc4dd884eb64a71f8801ef30">GgafFactory::ROOT_ORDER</a> = NULL<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>先頭の注文 </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00022">22</a> 行で定義されています。</p>

</div>
</div>
<a class="anchor" id="a0c189cff985ee01b75c1da86593fdc20"></a><!-- doxytag: member="GgafCore::GgafFactory::CREATING_ORDER" ref="a0c189cff985ee01b75c1da86593fdc20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGgafCore_1_1GgafOrder.html">GgafOrder</a> * <a class="el" href="classGgafCore_1_1GgafFactory.html#a0c189cff985ee01b75c1da86593fdc20">GgafFactory::CREATING_ORDER</a> = NULL<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>現在製造中の注文 </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00024">24</a> 行で定義されています。</p>

</div>
</div>
<a class="anchor" id="aeb673e1d33ae8688f69fa40232014464"></a><!-- doxytag: member="GgafCore::GgafFactory::_pGarbageBox" ref="aeb673e1d33ae8688f69fa40232014464" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGgafCore_1_1GgafGarbageBox.html">GgafGarbageBox</a> * <a class="el" href="classGgafCore_1_1GgafFactory.html#aeb673e1d33ae8688f69fa40232014464">GgafFactory::_pGarbageBox</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]ゴミ箱(不要なアクター置き場) </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00056">56</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafGod_8cpp_source.html#l00197">GgafCore::GgafGod::clean()</a>, <a class="el" href="GgafGod_8cpp_source.html#l00020">GgafCore::GgafGod::GgafGod()</a>, と <a class="el" href="GgafElement_8hpp_source.html#l00869">GgafCore::GgafElement&lt; T &gt;::nextFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="aff6e1d916bf717a32a79d6327138e317"></a><!-- doxytag: member="GgafCore::GgafFactory::_cnt_cleaned" ref="aff6e1d916bf717a32a79d6327138e317" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGgafCore_1_1GgafFactory.html#aff6e1d916bf717a32a79d6327138e317">GgafFactory::_cnt_cleaned</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]掃除オブジェクト数 </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00059">59</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafElement_8hpp_source.html#l01653">GgafCore::GgafElement&lt; T &gt;::clean()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7e18bd9d0f31fe4f0048f61c22595aa"></a><!-- doxytag: member="GgafCore::GgafFactory::_is_working_flg" ref="ac7e18bd9d0f31fe4f0048f61c22595aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool <a class="el" href="classGgafCore_1_1GgafFactory.html#ac7e18bd9d0f31fe4f0048f61c22595aa">GgafFactory::_is_working_flg</a> = true<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]活動フラグ(神が操作する) </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00062">62</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafGod_8cpp_source.html#l00197">GgafCore::GgafGod::clean()</a>.</p>

</div>
</div>
<a class="anchor" id="a4219e8ad50b3cbbb596060922d2adbf6"></a><!-- doxytag: member="GgafCore::GgafFactory::_have_to_rest_flg" ref="a4219e8ad50b3cbbb596060922d2adbf6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool <a class="el" href="classGgafCore_1_1GgafFactory.html#a4219e8ad50b3cbbb596060922d2adbf6">GgafFactory::_have_to_rest_flg</a> = false<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]休むフラグ </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00064">64</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafFactory_8h_source.html#l00157">beginRest()</a>, と <a class="el" href="GgafFactory_8h_source.html#l00178">finishRest()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8a63e19ed64fda62429fc0cb2b63cc9"></a><!-- doxytag: member="GgafCore::GgafFactory::_is_resting_flg" ref="ad8a63e19ed64fda62429fc0cb2b63cc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool <a class="el" href="classGgafCore_1_1GgafFactory.html#ad8a63e19ed64fda62429fc0cb2b63cc9">GgafFactory::_is_resting_flg</a> = false<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]休でいるフラグ </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00066">66</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafFactory_8h_source.html#l00166">isResting()</a>.</p>

</div>
</div>
<a class="anchor" id="adc191cad705b1cbe9dc06c4b20d20f1a"></a><!-- doxytag: member="GgafCore::GgafFactory::_was_finished_flg" ref="adc191cad705b1cbe9dc06c4b20d20f1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool <a class="el" href="classGgafCore_1_1GgafFactory.html#adc191cad705b1cbe9dc06c4b20d20f1a">GgafFactory::_was_finished_flg</a> = false<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>[r]完全店終い </p>

<p> <a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a> の <a class="el" href="GgafFactory_8h_source.html#l00068">68</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="GgafGod_8cpp_source.html#l00197">GgafCore::GgafGod::clean()</a>.</p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="GgafFactory_8h_source.html">GgafFactory.h</a></li>
<li><a class="el" href="GgafFactory_8cpp_source.html">GgafFactory.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceGgafCore.html">GgafCore</a>      </li>
      <li class="navelem"><a class="el" href="classGgafCore_1_1GgafFactory.html">GgafFactory</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">MyStg2ndに対してSat Oct 15 2011 13:59:16に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
