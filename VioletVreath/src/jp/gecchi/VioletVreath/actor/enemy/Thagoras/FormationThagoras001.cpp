#include "stdafx.h"
#include "FormationThagoras001.h"

#include "jp/gecchi/VioletVreath/scene/Universe/World/GameScene/MyShipScene.h"
#include "jp/gecchi/VioletVreath/God.h"
#include "jp/gecchi/VioletVreath/actor/enemy/Thagoras/EnemyThagoras.h"
#include "jp/gecchi/VioletVreath/util/XpmHeader.h"

using namespace GgafCore;
using namespace GgafDxCore;
using namespace GgafLib;
using namespace VioletVreath;





/* XPM */
const char* FormationThagoras001::xpmFormationThagoras001_[] = {
        /* columns rows colors chars-per-pixel */
        "25 113 16 1 ",
        "  c #07020C",
        ". c #230437",
        "X c #391053",
        "o c #4C2B5D",
        "O c #4E1871",
        "+ c #563070",
        "@ c #67447C",
        "# c #725484",
        "$ c #7E658C",
        "% c #8C6DA0",
        "& c #A38BB1",
        "* c #B7A3C1",
        "= c #CDBBD4",
        "- c #D7CBE0",
        "; c #EBE1F2",
        ": c None",
        /* pixels */
        ":::::::::::::::::::   :::",
        "::::::::::::::::::  .  ::",
        ":::::::::::::::::: .o. ::",
        "::::::::::::::::   XoX ::",
        ":::::::::::::    .XooX ::",
        ":::::::::::    XoooXo. ::",
        "::::::::   ..O@@ooo.oX ::",
        "::::::   .X@$:$#ooXXoX ::",
        ":::   ..O%-=*:$@ooXOoX ::",
        ":   .X@&;;;-*%@oX. .+. ::",
        "  .o+#&=;;;*@X..   .oX ::",
        " .oXo#&==&+X.   :: .oX ::",
        "  XXo#:#OX.   ::::  +X ::",
        ":  ..X@&%+..   ::: .+X ::",
        ":::   .Xo&&#X.   : .oX ::",
        ":::::   ..X#$#o..  .+. ::",
        "::: ::::   .Xo@#@X..@X ::",
        ":          . ..Xo@@oo. ::",
        ": .+.. ....@. ...XOXoX ::",
        ": Xo+##$%%&=X.o@@..XoX ::",
        ": .Xo#&=;;;=#X@@#. .+X ::",
        ": .oOXXXOoOoO.X+X. .+. ::",
        ": .X. ... .        .oX ::",
        ":   ..X++X.  :   : .oX ::",
        ":: .o#&*--&o. :::: .oX ::",
        ": .Xo@%&*=-=O  ::: .+. ::",
        ": XXOXX.XXX#%. ::: .oX ::",
        ": X+X     .X#. ::: .oX ::",
        ": X@o.....X+#. ::: .oX ::",
        ": .X@$%%&&=*o  ::: .+. ::",
        ":  .O@&=;;*O. ::   .oX ::",
        ":  .XXO+@OX        .+. ::",
        ": .o...X...... .X+..+X ::",
        ": Xo@@#$%%%%###@+#X.oX ::",
        ": .Xo#&=-;;-&:##oo@.+X ::",
        ": .oOXoOo+OoOOoXXXXXoX ::",
        ": .X. ... .        .oX ::",
        ":  ..XXooX.   :::: .oX ::",
        ":  .o#&=--&O. :::: .oX ::",
        ": .oo#%&&=**o  ::: .+X ::",
        ": XXo+OXO%XO%. ::: .oX ::",
        ": XXoX  X%XO#. ::: .+. ::",
        ": .X@X. O*@%#. :::  +X ::",
        ": .X+#..O;-&X  ::: .+X ::",
        "::  Xo+.X%OX. :::: .oX ::",
        "::  ..X.XXXXo.  :: .+. ::",
        ": .Xo@@####%&#X  : .+X ::",
        ": .oo#&=;;;-*:%o.  .oX ::",
        ": XXoOo++@+@%OO+. .XoX ::",
        ": .X@..   .+$.    .oo. ::",
        ":  X+.     X+.   XXXoX ::",
        "::     :::      XXoXX  ::",
        ":::   :::::  :: Xo..  :::",
        ":::::::::::::::     :::::",
        "::::::::::::::::  :    ::",
        "::::::::::::::::::  X. ::",
        ":::::::::::::::::  .@. ::",
        ":::::::::::::::   .ooX ::",
        "::::::::::::   ..oX.oX ::",
        ":::::::::   ..oo@ooXo. ::",
        ":::::::   .Xo#$@ooo.oX ::",
        ":::::  ..X$&&:$@ooXXoX ::",
        "::   .X+&;;-*%$@oX.X+X ::",
        "  ..X@%=;;;=&#O..  .+. ::",
        " .Xoo#&-;;*@X.     .oX ::",
        " .oXo$&&%O..   ::: .+X ::",
        "   XX+%$OX.  ::::: .oX ::",
        "::   .X@&&+..   :: .+. ::",
        "::::   ..+%&#X.    .+X ::",
        "::   ::   .X+$#@.. .oX ::",
        ":  ..     ...XX+#@oooX ::",
        ": .@X..X.XO%.  .XXooo. ::",
        ": .o@$&*=--=O.    XXoX ::",
        ": XXo@%&*-=*#  ::  XoX ::",
        ": .oX....O%%X. ::: .oX ::",
        ": .X    ..%-%. :::  +X ::",
        ":        X=-%. ::: .oX ::",
        ":::   ...X@#X  ::: .oX ::",
        ":: .X+$&&%OX. :::: .oX ::",
        ":  Xo#&=;;;%. :::: .+X ::",
        ": Xoo@@o+%@%#. :::  +X ::",
        ": XXoO..O%XO$. ::: .+. ::",
        ": .XoX  O%XO$. ::: .oX ::",
        ": .o++. O-=*o  ::: .+X ::",
        ":  .O#+.X-&+. :::: .oX ::",
        "::  .XX.XOX.  ::::  +X ::",
        ":  .OOX.O#+X  :::: .oX ::",
        ": .oo$%O#;;%. :::: .oX ::",
        ": XXo+$&O@@%+  ::: .oX ::",
        ": XoO.X@@X.O$. ::: .+. ::",
        ": .O@XXX%XX+%. ::: .oX ::",
        ": .+o$&*=-==%. ::: .+X ::",
        ": XXo@%**==%X  ::: .oX ::",
        ": Xo@X.X.X... :::: .o. ::",
        ":  XO......XX.  :: .+X ::",
        ":  XO++++@@#&@.  : .oX ::",
        ": XXo$&=;;;-*:$O.  .oX ::",
        ": XXoO@@###$%+++.  .+. ::",
        ": .O+X. . .O%..    .+X ::",
        ": .X@.    .O+.   . .oX ::",
        ": .@O......XX...X@ .+X ::",
        ": Xo@#$&&*&&%$$@@@X.+. ::",
        ": .Xo@&*=-;*&$#@oo@X+X ::",
        ": XOXXXXXO+&OXXXXXX.+X ::",
        ": .X..  . X@$.     .+. ::",
        ": .@X.....X%&. ::: .+X ::",
        ": .o@$%&**==$. ::  XoX ::",
        ": XXo@&*=-=$X  :  .Xo. ::",
        ": .oXXXXXX..  :  .XooX ::",
        ": ..         :: .oXXX. ::",
        "::   :::::::::: XoX.   ::",
        ":::::::::::::::  .   ::::",
        ":::::::::::::::   :::::::"
        };



FormationThagoras001::FormationThagoras001(const char* prm_name) :
        FormationThagoras(prm_name, FormationThagoras001::xpmFormationThagoras001_) {
    _class_name = "FormationThagoras001";

    papSplManufConn_ = NEW SplineManufactureConnection*[pXpmHd_->columns_];
    for (int i = 0; i < pXpmHd_->columns_; i++) {
        papSplManufConn_[i] = connect_SplineManufactureManager("FormationThagoras001");
    }
}

void FormationThagoras001::processBehavior() {
    FormationThagoras::processBehavior();
}

void FormationThagoras001::onCallUp(GgafDxCore::GgafDxDrawableActor* prm_pActor, int prm_row, int prm_col) {
    EnemyThagoras* pThagoras = (EnemyThagoras*)prm_pActor;
    pThagoras->position(entry_pos_._X                       ,
                        entry_pos_._Y + (prm_col*PX_C(20))  ,
                        entry_pos_._Z                       );
    pThagoras->pKurokoLeader_ = papSplManufConn_[prm_col]->peek()->
            createKurokoLeader(pThagoras->_pKurokoA);
}

FormationThagoras001::~FormationThagoras001() {
    for (int i = 0; i < pXpmHd_->columns_; i++) {
        papSplManufConn_[i]->close();
    }
}



// [0]        0   0   0   0   1   1   1   1       00001111    0x0F
// [1]        0   0   1   1   1   1   1   1       00111111    0x3F
// [2]        0   1   1   1   1   1   1   1       01111111    0x7F
// [3]        0   1   1   1   0   0   0   0       01110000    0x70
// [4]        0   1   1   1   1   1   1   1       01111111    0x7F
// [5]        0   0   1   1   1   1   1   1       00111111    0x3F
// [6]        0   0   0   0   1   1   1   1       00001111    0x0F
// [7]        0   0   0   0   0   0   0   0       00000000    0x00
// [8]        0   0   0   0   0   0   0   0       00000000    0x00
// [9]        0   1   0   0   0   1   0   0       01000100    0x44
//[10]        0   1   1   1   1   1   0   1       01111101    0x7D
//[11]        0   1   1   1   1   1   0   1       01111101    0x7D
//[12]        0   1   1   1   1   1   0   1       01111101    0x7D
//[13]        0   1   0   0   0   0   0   0       01000000    0x40
//[14]        0   0   0   0   0   0   0   0       00000000    0x00
//[15]        0   0   0   0   0   0   0   0       00000000    0x00
//[16]        0   0   1   1   1   0   0   0       00111000    0x38
//[17]        0   1   1   1   1   1   0   0       01111100    0x7C
//[18]        0   1   1   1   1   1   0   0       01111100    0x7C
//[19]        0   1   0   0   0   1   0   0       01000100    0x44
//[20]        0   1   1   1   1   1   0   0       01111100    0x7C
//[21]        0   1   1   1   1   1   0   0       01111100    0x7C
//[22]        0   0   1   1   1   0   0   0       00111000    0x38
//[23]        0   0   0   0   0   0   0   0       00000000    0x00
//[24]        0   0   0   0   0   0   0   0       00000000    0x00
//[25]        0   1   0   0   0   0   0   1       01000001    0x41
//[26]        0   1   1   1   1   1   1   1       01111111    0x7F
//[27]        0   1   1   1   1   1   1   1       01111111    0x7F
//[28]        0   1   1   1   1   1   1   1       01111111    0x7F
//[29]        0   1   0   0   0   0   0   0       01000000    0x40
//[30]        0   0   0   0   0   0   0   0       00000000    0x00
//[31]        0   0   0   0   0   0   0   0       00000000    0x00
//[32]        0   0   1   1   1   0   0   0       00111000    0x38
//[33]        0   1   1   1   1   1   0   0       01111100    0x7C
//[34]        0   1   1   1   1   1   0   0       01111100    0x7C
//[35]        0   1   0   1   0   1   0   0       01010100    0x54
//[36]        0   1   0   1   1   1   0   0       01011100    0x5C
//[37]        0   1   0   1   1   1   0   0       01011100    0x5C
//[38]        0   0   0   1   1   0   0   0       00011000    0x18
//[39]        0   0   0   0   0   0   0   0       00000000    0x00
//[40]        0   0   0   0   0   1   0   0       00000100    0x04
//[41]        0   0   1   1   1   1   1   1       00111111    0x3F
//[42]        0   1   1   1   1   1   1   1       01111111    0x7F
//[43]        0   1   1   1   1   1   1   1       01111111    0x7F
//[44]        0   1   1   0   0   1   0   0       01100100    0x64
//[45]        0   1   1   0   0   1   0   0       01100100    0x64
//[46]        0   0   1   0   0   0   0   0       00100000    0x20
//[47]        0   0   0   0   0   0   0   0       00000000    0x00
//[48]        0   0   0   0   1   1   1   1       00001111    0xF
//[49]        0   0   1   1   1   1   1   1       00111111    0x3F
//[50]        0   1   1   1   1   1   1   1       01111111    0x7F
//[51]        0   1   1   1   0   0   0   0       01110000    0x70
//[52]        0   1   1   1   1   1   1   1       01111111    0x7F
//[53]        0   0   1   1   1   1   1   1       00111111    0x3F
//[54]        0   0   0   0   1   1   1   1       00001111    0xF
//[55]        0   0   0   0   0   0   0   0       00000000    0x00
//[56]        0   1   1   1   1   1   0   0       01111100    0x7C
//[57]        0   1   1   1   1   1   0   0       01111100    0x7C
//[58]        0   1   1   1   1   1   0   0       01111100    0x7C
//[59]        0   0   0   0   1   1   0   0       00001100    0x0C
//[60]        0   0   0   0   1   1   0   0       00001100    0x0C
//[61]        0   0   0   0   1   1   0   0       00001100    0x0C
//[62]        0   0   0   0   1   0   0   0       00001000    0x08
//[63]        0   0   0   0   0   0   0   0       00000000    0x00
//[64]        0   0   1   1   1   0   0   0       00111000    0x38
//[65]        0   1   1   1   1   1   0   0       01111100    0x7C
//[66]        0   1   1   1   1   1   0   0       01111100    0x7C
//[67]        0   1   0   1   0   1   0   0       01010100    0x54
//[68]        0   1   0   1   1   1   0   0       01011100    0x5C
//[69]        0   1   0   1   1   1   0   0       01011100    0x5C
//[70]        0   0   0   1   1   0   0   0       00011000    0x18
//[71]        0   0   0   0   0   0   0   0       00000000    0x00
//[72]        0   0   1   0   0   0   0   0       00100000    0x20
//[73]        0   1   1   1   0   1   0   0       01110100    0x74
//[74]        0   1   1   1   0   1   0   0       01110100    0x74
//[75]        0   1   0   1   0   1   0   0       01010100    0x54
//[76]        0   1   1   1   1   1   0   0       01111100    0x7C
//[77]        0   1   1   1   1   1   0   0       01111100    0x7C
//[78]        0   1   1   1   1   0   0   0       01111000    0x78
//[79]        0   0   0   0   0   0   0   0       00000000    0x00
//[80]        0   0   0   0   0   1   0   0       00000100    0x04
//[81]        0   0   1   1   1   1   1   1       00111111    0x3F
//[82]        0   1   1   1   1   1   1   1       01111111    0x7F
//[83]        0   1   1   1   1   1   1   1       01111111    0x7F
//[84]        0   1   1   0   0   1   0   0       01100100    0x64
//[85]        0   1   1   0   0   1   0   0       01100100    0x64
//[86]        0   0   1   0   0   0   0   0       00100000    0x20
//[87]        0   0   0   0   0   0   0   0       00000000    0x00
//[88]        0   1   1   1   1   1   1   1       01111111    0x7F
//[89]        0   1   1   1   1   1   1   1       01111111    0x7F
//[90]        0   1   1   1   1   1   1   1       01111111    0x7F
//[91]        0   0   0   0   0   1   0   0       00000100    0x04
//[92]        0   1   1   1   1   1   0   0       01111100    0x7C
//[93]        0   1   1   1   1   1   0   0       01111100    0x7C
//[94]        0   1   1   1   1   0   0   0       01111000    0x78
//[95]        0   0   0   0   0   0   0   0       00000000    0x00

